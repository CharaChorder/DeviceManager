{"version":3,"file":"10.BXRy1kZq.js","sources":["../../../../../../src/lib/components/Terminal.svelte","../../../../../../src/routes/(app)/terminal/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { serialLog, serialPort } from \"$lib/serial/connection\";\n  import { slide } from \"svelte/transition\";\n\n  function submit(event: Event) {\n    event.preventDefault();\n    $serialPort?.send(0, value.trim());\n    value = \"\";\n    io.scrollTo({ top: io.scrollHeight });\n  }\n\n  let value: string;\n  let io: HTMLDivElement;\n</script>\n\n<form on:submit={submit}>\n  <div bind:this={io} class=\"io\">\n    {#each $serialLog as { type, value }}\n      {#if type === \"input\"}\n        <code transition:slide>{value}</code>\n      {:else if type === \"output\"}\n        <samp transition:slide>{value}</samp>\n      {:else}\n        <p transition:slide>{value}</p>\n      {/if}\n    {/each}\n    <div class=\"anchor\" />\n  </div>\n  <fieldset>\n    <input on:submit={submit} bind:value />\n  </fieldset>\n</form>\n\n<style lang=\"scss\">\n  form {\n    position: relative;\n\n    contain: strict;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: 100%;\n\n    font-family: \"Noto Sans Mono\", monospace;\n    font-size: 0.75rem;\n    color: var(--md-sys-color-on-secondary);\n\n    border-radius: 16px;\n  }\n\n  fieldset::before {\n    content: \"$\";\n\n    position: absolute;\n    bottom: 8px;\n    left: 8px;\n\n    font-weight: 900;\n  }\n\n  input {\n    width: 100%;\n    margin-block-start: -16px;\n    padding: 8px;\n    padding-block-start: 24px;\n    padding-inline-start: calc(8px + 1.5ch);\n\n    font-family: \"Noto Sans Mono\", monospace;\n    font-weight: 600;\n    color: var(--md-sys-color-on-secondary);\n\n    appearance: none;\n    background: var(--md-sys-color-secondary);\n    border: none;\n  }\n\n  .io {\n    --scrollbar-color: var(--md-sys-color-secondary);\n\n    z-index: 1;\n\n    overflow-y: auto;\n    flex: 1;\n\n    padding: 12px;\n\n    color: var(--md-sys-color-on-secondary-container);\n\n    background: var(--md-sys-color-secondary-container);\n    border-radius: 0 0 16px 16px;\n  }\n\n  :focus-visible {\n    outline: none;\n  }\n\n  fieldset {\n    all: unset;\n\n    position: relative;\n\n    display: block;\n\n    opacity: 0.8;\n\n    transition: opacity 250ms ease;\n\n    &:focus-within {\n      opacity: 1;\n    }\n  }\n\n  .anchor {\n    overflow-anchor: auto;\n    height: 1px;\n  }\n\n  code,\n  samp,\n  p {\n    display: block;\n    overflow-anchor: none;\n    margin-block: 0.15rem;\n  }\n\n  p {\n    display: flex;\n    justify-content: center;\n\n    margin-block-end: 1rem;\n    padding: 0.25rem;\n\n    color: var(--md-sys-color-on-secondary);\n\n    background: var(--md-sys-color-secondary);\n    border-radius: 8px;\n  }\n\n  code::before {\n    content: \"> \";\n    margin-block-end: 0.25rem;\n    font-weight: 900;\n    color: var(--md-sys-color-primary);\n  }\n\n  ::selection {\n    color: var(--md-sys-color-background);\n    background: var(--md-sys-color-on-background);\n  }\n\n  @keyframes blink {\n    100%,\n    60% {\n      opacity: 1;\n    }\n\n    40%,\n    0% {\n      opacity: 0;\n    }\n  }\n</style>\n","<script>\n  import Terminal from \"$lib/components/Terminal.svelte\";\n</script>\n\n<section class=\"terminal\">\n  <Terminal />\n</section>\n\n<style lang=\"scss\">\n  section {\n    contain: size;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    gap: 16px;\n\n    width: calc(min(100%, 28cm));\n    height: 100%;\n    margin-block-end: 48px;\n  }\n</style>\n"],"names":["ctx","insert_hydration","target","p","anchor","set_data","t","t_value","samp","code","i","form","append_hydration","div1","div0","fieldset","input","submit","event","$serialPort","value","$$invalidate","io","$$value","section"],"mappings":"6jBAuB6BA,EAAK,CAAA,EAAA,6JAA1BC,EAA8BC,EAAAC,EAAAC,CAAA,wCAATJ,EAAK,CAAA,EAAA,KAAAK,EAAAC,EAAAC,CAAA,kKAFFP,EAAK,CAAA,EAAA,mKAA7BC,EAAoCC,EAAAM,EAAAJ,CAAA,wCAAZJ,EAAK,CAAA,EAAA,KAAAK,EAAAC,EAAAC,CAAA,kKAFLP,EAAK,CAAA,EAAA,mKAA7BC,EAAoCC,EAAAO,EAAAL,CAAA,wCAAZJ,EAAK,CAAA,EAAA,KAAAK,EAAAC,EAAAC,CAAA,2MAD1B,OAAAP,OAAS,QAAO,EAEXA,OAAS,SAAQ,wTAHtBA,EAAU,CAAA,CAAA,uBAAf,OAAIU,GAAA,0lBAFVT,EAgBMC,EAAAS,EAAAP,CAAA,EAfJQ,EAWKD,EAAAE,CAAA,0DADHD,EAAqBC,EAAAC,CAAA,iBAEvBF,EAEUD,EAAAI,CAAA,EADRH,EAAsCG,EAAAC,CAAA,gCAApBhB,EAAM,CAAA,CAAA,iCAdXA,EAAM,CAAA,CAAA,+BAEZA,EAAU,CAAA,CAAA,oBAAf,OAAIU,GAAA,EAAA,8GAAJ,6JAbK,SAAAO,EAAOC,EAAY,CAC1BA,EAAM,eAAc,EACpBC,GAAa,KAAK,EAAGC,EAAM,KAAI,CAAA,EAC/BC,EAAA,EAAAD,EAAQ,EAAE,EACVE,EAAG,SAAQ,CAAG,IAAKA,EAAG,YAAY,CAAA,MAGhCF,EACAE,2CAIYA,EAAEC,qWCZpBtB,EAESC,EAAAsB,EAAApB,CAAA"}