import{s as f,n as a,q as l}from"../chunks/scheduler.CXEVs2ap.js";import{S as p,i as m}from"../chunks/index.CTdcniaS.js";function g(r){let e,s;return{c:a,l:a,m(o,c){e||(s=l(window,"message",r[0]),e=!0)},p:a,i:a,o:a,d(o){e=!1,s()}}}function h(r){let e,s,o;async function c(n,i){for(;e;)await e;return e=new Promise(t=>{s=t,o?.postMessage([n,i],{targetOrigin:"*"})}),e.then(()=>{e=void 0}),e}function d(n){if("response"in n.data)s?.(n.data.response);else{o=n.source??void 0;const i=n.data.actionCodes;Object.assign(i,Object.fromEntries(Object.values(n.data.actionCodes).filter(t=>!!t.id).map(t=>[t.id,t]))),new Function("Action","Chara",n.data.script)(i,Object.fromEntries(n.data.charaChannels.map(t=>[t,(...u)=>c(t,u)])))}}return[d]}class O extends p{constructor(e){super(),m(this,e,h,g,f,{})}}export{O as component};
//# sourceMappingURL=13.By_O-_5k.js.map
