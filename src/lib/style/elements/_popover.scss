$animation-duration: 150ms;
$translate: translateY(8px);

[popover] {
  position: absolute;
  inset: unset;

  margin: 0;
  padding: 8px;
  border: 1px solid var(--md-sys-color-outline);
  border-radius: 8px;

  font-family: "Noto Sans Mono", monospace;
  font-size: initial;
  font-weight: initial;
  color: var(--md-sys-color-on-surface);

  opacity: 0;
  background: var(--md-sys-color-surface);

  transition:
    transform $animation-duration ease,
    opacity $animation-duration linear,
    overlay $animation-duration allow-discrete,
    display $animation-duration allow-discrete;

  position-area: bottom span-all;
  position-try-fallbacks:
    top span-all,
    bottom span-right,
    top span-right,
    bottom span-left,
    top span-left;

  position-visibility: no-overflow;

  &:popover-open {
    transform: translateY(0);
    opacity: 1;
  }

  > h1:first-child,
  h2:first-child,
  h3:first-child {
    margin-top: 0;
    text-align: center;
  }
}

[popover="auto"] {
  transform: $translate;
}

[popover="hint"] {
  margin-top: 0.5rem;
  font-size: 0.9rem;
}

@starting-style {
  [popover]:popover-open {
    opacity: 0;
  }

  [popover="auto"] {
    transform: $translate;
  }
}
