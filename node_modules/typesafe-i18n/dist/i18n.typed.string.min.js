"use strict";(()=>{var B=n=>Object.fromEntries(Object.entries(n).map(([t,e])=>t!=="i"&&e&&e!="0"&&[t,e]).filter(Boolean)),F=n=>Object.fromEntries(Object.keys(n).map(t=>{let e=n[t];return[t,Array.isArray(e)?e.map(s=>s?.trim()):e===!!e?e:e?.trim()]})),k=n=>{let[t="",...e]=n.split("|"),[s="",r]=t.split(":"),[a,i]=s.split("?");return{k:a,i:r,n:i==="",f:e}},c=n=>!!(n.o||n.r),b=(n,t)=>{let[e,s]=n.split(":");s||(s=e,e=t);let r=s.split("|"),[a,i,o,p,P,A]=r,g=r.filter(f=>f!==void 0).length;return g===1?{k:e,r:a}:g===2?{k:e,o:a,r:i}:g===3?{k:e,z:a,o:i,r:o}:{k:e,z:a,o:i,t:o,f:p,m:P,r:A}},y=/^\{.*\}$/,m=n=>Object.fromEntries(l(n).split(",").map(t=>t.split(":")).reduce((t,e)=>e.length===2?[...t,e.map(s=>s.trim())]:(t[t.length-1][1]+=","+e[0],t),[])),d=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,l=n=>n.substring(1,n.length-1),T=(n,t=!0,e="",s="")=>n.split(d).map(r=>{if(!r.match(d))return r;let a=l(r);if(a.startsWith("{"))return b(l(a),s);let i=k(a);return s=i.k||s,!e&&(e=s),i}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=e||"0");let a=F(r);return t?B(a):a});var S=(n,t,e)=>t.reduce((s,r)=>(r.match(y)?(a=>a[s]??a["*"])(m(r)):n[r]?.(s))??s,e),L=(n,{z:t,o:e,t:s,f:r,m:a,r:i},o)=>{switch(t&&o==0?"zero":n.select(o)){case"zero":return t;case"one":return e;case"two":return s;case"few":return r??i;case"many":return a??i;default:return i}},R=/\?\?/g,$=(n,t,e,s)=>n.map(r=>{if(typeof r=="string")return r;let{k:a="0",f:i=[]}=r,o=s[a];return c(r)?((typeof o=="boolean"?o?r.o:r.r:L(t,r,o))||"").replace(R,o):(""+((i.length?S(e,i,o):o)??"")).trim()}).join(""),u=(n,t,e,s)=>{let r=s[0],a=r&&typeof r=="object"&&r.constructor===Object,i=s.length===1&&a?r:s;return $(n,t,e,i)};var C=(n,t)=>n[t]||(n[t]=T(t)),w=(n,t,e,s,...r)=>u(C(n,s),t,e,r);var x=(n,t={})=>w.bind(null,{},new Intl.PluralRules(n),t);window.typesafeI18nString=x;})();
